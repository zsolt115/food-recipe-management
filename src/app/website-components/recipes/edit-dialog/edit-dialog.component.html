<h2 mat-dialog-title>Edit recipe</h2>

<div style="position: relative; height: 100%; width: 100%;">
    <mat-dialog-content [formGroup]="recipeForm" >
        <mat-form-field>
            <mat-label>Recipe Name:</mat-label>
            <input matInput
            formControlName="recipeName"
                >
        </mat-form-field>
        <br>
        <mat-form-field style="width: 75%;">
            <mat-label>Recipe Description:</mat-label>
            <textarea matInput
                rows="10"
                formControlName="recipeDescription"
                ></textarea>
        </mat-form-field>
        <mat-form-field style="width: 75%;">
            <mat-label>Image:</mat-label>
            <textarea matInput
                rows="10"
                formControlName="recipeImage"
                ></textarea>
        </mat-form-field>
        <br>
        <mat-label>Recipe Ingredients:</mat-label>
        <br>
    
        <div class="row" style="margin-top: 30px;">
            <div formArrayName="recipeIngredients">
                <div class="row"
                    *ngFor="let ingredientCtrl of controls; let i = index"
                    [formGroupName]="i">
                    
                    <div class="col-md-3">
                        <input
                        style="margin-top: 5px;"
                        type="text"
                        class="form-control"
                        formControlName="name">
                    </div>
                    <div class="col-md-3">
                        <input 
                        type="number"
                        min="0"
                        class="form-control"
                        formControlName="amount">
                    </div>
                    <div class="col-md-3">
                        <input 
                        type="text"
                        class="form-control"
                        formControlName="unit">
                    </div>

                    <div class="col-md-3">
                        <button type="button" class="btn btn-danger" style="margin-left: 10px;" (click)="deleteIngredient(i)">Delete</button>
                    </div>
                    
                </div>
            </div >
        </div>
    
    
    </mat-dialog-content>
    
    <mat-dialog-actions>
        <div class="row">
            <div class="col-xs-12">
                <button type="button" class="btn btn-success" (click)="addIngredient()">Add ingredient</button>
            </div>
        </div>
        <div class="row" style="position: absolute; bottom: 0; left: 0;">
            <div class="col-xs-12">
                <button type="submit" class="btn btn-primary" [disabled]="!recipeForm.valid" (click)="save()">Save</button>
                <button type="button" class="btn btn-secondary"(click)="close()">Close</button>
            </div>
        </div>
    </mat-dialog-actions>
</div>

